<!doctype html>
<html lang="en">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">



  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">





  

  <!-- Bootstrap 3.3.7 -->
  <link rel="stylesheet" href="http://192.168.1.100/template/adminlte/bower_components/bootstrap/dist/css/bootstrap.min.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="http://192.168.1.100/template/adminlte/bower_components/font-awesome/css/font-awesome.min.css">

  <!-- Theme style -->
  <link rel="stylesheet" href="http://192.168.1.100/template/adminlte/dist/css/AdminLTE.css">
  <!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
  <link rel="stylesheet" href="http://192.168.1.100/template/adminlte/dist/css/skins/skins-biasawae.css">








<!-- jQuery 3 -->
<script src="http://192.168.1.100/template/adminlte/bower_components/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap 3.3.7 -->
<script src="http://192.168.1.100/template/adminlte/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

<!-- AdminLTE App -->
<script src="http://192.168.1.100/template/adminlte/dist/js/adminlte.min.js"></script>



  


<!-- Bootstrap core JavaScript -->
<script src="http://192.168.1.100/template/vendor/jquery/jquery.min.js"></script>
<script src="http://192.168.1.100/template/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>






	

    <link href="style.css" rel="stylesheet">




<script type="text/javascript" charset="utf-8" src="cordova.js"></script>






<script>
$(document).ready(function(){


$(document).ajaxStart(function() 
	{
	$('#loading').show();
	}).ajaxStop(function() 
	{
	$('#loading').hide();
	});



})
</script>









</head>

<body>

	<!--================Header Menu Area =================-->
	<header>
	    <div class="header">
		<div class="container-fluid"  id="myheader">
		    <div class="row">
			<div class="col-md-12">
				<table border="0" width="100%">
				<tr>
				<td width="30" align="left">
				<a href="main.html">
					<i class="fa fa-arrow-left" style="color:orange"></i>
				</a>


				</td>

				<td align="left">
					<font color="yellow">TRACKING REAL TIME</font>

				</td>
				</tr>
				</table>


			</div>
		    </div>
		</div>
	</header>
	<!--================Header Menu Area =================-->


<hr>


        
        


	<div class="row">


		<div class="col-md-12">


			<div class="box box-danger">
			<div class="box-body">
			<div class="row">
				<div class="col-md-12">

							<p>
							<a href="akun_tracking_cari.html" class="btn btn-block btn-danger">CARI SATGAS >></a>
							</p>
							
							<script src='https://kit.fontawesome.com/a076d05399.js'></script>
				
							<style>
							#tombolcenter {
								  position: relative;
								  top: 100px;
								  left: 10px;
								  z-index: 9999;
								}
							</style>
							
							
							<div id="tombolcenter"> 
							<button id="btn1" style='font-size:24px'><i class='fas fa-crosshairs'></i></button>
							</div>


					    
			  			<div id="map_canvas"></div>
							
							<div id="isiku" style="display:none"></div>
							
							


						<!-- jQuery -->
						<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
						 
						<!-- jQuery UI -->
						<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.css" />
						<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
						 
						<!-- Bootstrap CSS -->
						<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
			
			
			
			
						<script src="//code.jquery.com/jquery-1.10.2.js"></script>
						<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&key=AIzaSyBZ73oHLqNFmGX6bs3qyyRAoCim-_WxdqQ"></script>



							
						<script>
						$(document).ready(function(){
						

						
								$.ajax({
									url: "http://192.168.1.100/covid_android_satgas/geojson_diriku.php",
									type:$(this).attr("method"),
									data:$(this).serialize(),
									success:function(data){		
										$("#isiku").html(data);

										var latLng = data;			
								        initialize(latLng);
								        
										}
									});
						
						
							})
						
				
				
				
				
						
						function initialize(latLng) {
						        latLng = latLng.split(",")
						        var mapOptions = {
						            center: new google.maps.LatLng(latLng[0],latLng[1]),
						            zoom: 18
						        };
						        var map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
						        






				
						
								$("#btn1").on('click', function ()
								    {
									$.ajax({
										url: "http://192.168.1.100/covid_android_satgas/geojson_diriku.php",
										type:$(this).attr("method"),
										data:$(this).serialize(),
										success:function(data){		
											$("#isiku").html(data);
	
											var latLng = data;			
									        initialize(latLng);
									        
											}
										});
							


		
									
									});
									
							
									
		




						        


									//tni
								  geojesonlayer1 = new google.maps.Data();
								  geojesonlayer1.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas1.php');
								  geojesonlayer1.setMap(map);
								  

							
									// Use custom marker from "icon" field in the geojson
									geojesonlayer1.setStyle(function(feature) {
										return {
											icon:feature.getProperty('icon'),
											optimized: false, 
											title:feature.getProperty('marker-symbol')					
											};
									});
							






							
									//polri
								  geojesonlayer2 = new google.maps.Data();
								  geojesonlayer2.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas2.php');
								  geojesonlayer2.setMap(map);

							
									// Use custom marker from "icon" field in the geojson
									geojesonlayer2.setStyle(function(feature) {
										return {
											icon:feature.getProperty('icon'), 
											title:feature.getProperty('marker-symbol')					
											};
									});
							
							
							
							
							
							
							
							
									//satpol pp dan damkar
								  geojesonlayer3 = new google.maps.Data();
								  geojesonlayer3.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas3.php');
								  geojesonlayer3.setMap(map);
								  

							
									// Use custom marker from "icon" field in the geojson
									geojesonlayer3.setStyle(function(feature) {
										return {
											icon:feature.getProperty('icon'), 
											title:feature.getProperty('marker-symbol')					
											};
									});
							
							
							
							
							
							
							
							
									//dinkes
								  geojesonlayer4 = new google.maps.Data();
								  geojesonlayer4.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas4.php');
								  geojesonlayer4.setMap(map);
								  

							
									// Use custom marker from "icon" field in the geojson
									geojesonlayer4.setStyle(function(feature) {
										return {
											icon:feature.getProperty('icon'), 
											title:feature.getProperty('marker-symbol')					
											};
									});
							
							
							
							
							
							
							
									//bpbd
								  geojesonlayer5 = new google.maps.Data();
								  geojesonlayer5.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas5.php');
								  geojesonlayer5.setMap(map);
								  

									// Use custom marker from "icon" field in the geojson
									geojesonlayer5.setStyle(function(feature) {
										return {
											icon:feature.getProperty('icon'), 
											title:feature.getProperty('marker-symbol')					
											};
									});
							
							
							
							
							
							
							
							
									//kominfo
								  geojesonlayer6 = new google.maps.Data();
								  geojesonlayer6.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas6.php');
								  geojesonlayer6.setMap(map);

							
									// Use custom marker from "icon" field in the geojson
									geojesonlayer6.setStyle(function(feature) {
										return {
											icon:feature.getProperty('icon'), 
											title:feature.getProperty('marker-symbol')					
											};
									});
							
							
							
							
							
							
							
							
									//pemdes
								  geojesonlayer7 = new google.maps.Data();
								  geojesonlayer7.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas7.php');
								  geojesonlayer7.setMap(map);

							
									// Use custom marker from "icon" field in the geojson
									geojesonlayer7.setStyle(function(feature) {
										return {
											icon:feature.getProperty('icon'), 
											title:feature.getProperty('marker-symbol')					
											};
									});
							
							
							
							
							
							
							
							
							
							
							
									//rw
								  geojesonlayer8 = new google.maps.Data();
								  geojesonlayer8.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas8.php');
								  geojesonlayer8.setMap(map);

							
							
									// Use custom marker from "icon" field in the geojson
									geojesonlayer8.setStyle(function(feature) {
										return {
											icon:feature.getProperty('icon'), 
											title:feature.getProperty('marker-symbol')					
											};
									});
							
							
							
							
							
							
							
							
							
							
							
							
							
									//rt
								  geojesonlayer9 = new google.maps.Data();
								  geojesonlayer9.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas9.php');
								  geojesonlayer9.setMap(map);
							
							
									// Use custom marker from "icon" field in the geojson
									geojesonlayer9.setStyle(function(feature) {
										return {
											icon:feature.getProperty('icon'), 
											title:feature.getProperty('marker-symbol')					
											};
									});
							
							
							
							
							
							
							
							
							
							
							
									//masyarakat
								  geojesonlayer10 = new google.maps.Data();
								  geojesonlayer10.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas10.php');
								  geojesonlayer10.setMap(map);

							
							
									// Use custom marker from "icon" field in the geojson
									geojesonlayer10.setStyle(function(feature) {
										return {
											icon:feature.getProperty('icon'), 
											title:feature.getProperty('marker-symbol')					
											};
									});
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							

						
									setInterval(loadLog311, 3000);
									
									function loadLog311()
										{
										geojesonlayer1.setMap(null);
										geojesonlayer1.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas1.php');
										geojesonlayer1.setMap(map);
										}


								
								
								

									setInterval(loadLog312, 4000);
									
									function loadLog312()
										{
										geojesonlayer2.setMap(null);
										geojesonlayer2.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas2.php');
										geojesonlayer2.setMap(map);
										}

								
							
							

									setInterval(loadLog313, 5000);
									
									function loadLog313()
										{
										geojesonlayer3.setMap(null);
										geojesonlayer3.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas3.php');
										geojesonlayer3.setMap(map);
										}

							
							
								

									setInterval(loadLog314, 3000);
									
									function loadLog314()
										{
										geojesonlayer4.setMap(null);
										geojesonlayer4.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas4.php');
										geojesonlayer4.setMap(map);
										}

							
							
							
							

									setInterval(loadLog315, 4000);
									
									function loadLog315()
										{
										geojesonlayer5.setMap(null);
										geojesonlayer5.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas5.php');
										geojesonlayer5.setMap(map);
										}

							
							
								

									setInterval(loadLog316, 5000);
									
									function loadLog316()
										{
										geojesonlayer6.setMap(null);
										geojesonlayer6.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas6.php');
										geojesonlayer6.setMap(map);
										}



							
							
							
								

									setInterval(loadLog317, 3000);
									
									function loadLog317()
										{
										geojesonlayer7.setMap(null);
										geojesonlayer7.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas7.php');
										geojesonlayer7.setMap(map);
										}




							
							
							

									setInterval(loadLog318, 4000);
									
									function loadLog318()
										{
										geojesonlayer8.setMap(null);
										geojesonlayer8.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas8.php');
										geojesonlayer8.setMap(map);
										}
							

							
							

									setInterval(loadLog319, 5000);
									
									function loadLog319()
										{
										geojesonlayer9.setMap(null);
										geojesonlayer9.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas9.php');
										geojesonlayer9.setMap(map);
										}

							
								


									setInterval(loadLog3110, 3000);
									
									function loadLog3110()
										{
										geojesonlayer10.setMap(null);
										geojesonlayer10.loadGeoJson('http://192.168.1.100/covid_android_satgas/geojson_satgas10.php');
										geojesonlayer10.setMap(map);
										}
							


						        
						    }
						</script>
						
						
						
						
						
						<style type="text/css">
							#map_canvas 
							{ 
								height:500px; width:100%; 
							}
						</style>




						


	    	    </div>
				</div>
				</div>
				</div>
			
		</div>
	</div>










	 <!-- Bootstrap CSS-->
    <link rel="stylesheet" href="http://192.168.1.100/template/css/bootstrap.css">
    <!-- Font Awesome CSS-->
    <link rel="stylesheet" href="http://192.168.1.100/template/css/font-awesome.min.css">
    <!-- Google fonts - Roboto -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,700">
    
    




<!-- Bootstrap 3.3.7 -->
  <link rel="stylesheet" href="http://192.168.1.100/template/adminlte/bower_components/bootstrap/dist/css/bootstrap.min.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="http://192.168.1.100/template/adminlte/bower_components/font-awesome/css/font-awesome.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="http://192.168.1.100/template/adminlte/bower_components/Ionicons/css/ionicons.min.css">
  <!-- jvectormap -->
  <link rel="stylesheet" href="http://192.168.1.100/template/adminlte/bower_components/jvectormap/jquery-jvectormap.css">
  
  
  



  
  


<!-- jQuery 3 -->
<script src="http://192.168.1.100/template/adminlte/bower_components/jquery/dist/jquery.min.js"></script>

<!-- Bootstrap 3.3.7 -->
<script src="http://192.168.1.100/template/adminlte/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

<!-- AdminLTE App -->
<script src="http://192.168.1.100/template/adminlte/dist/js/adminlte.min.js"></script>



<!-- Bootstrap core JavaScript -->
<script src="http://192.168.1.100/template/vendor/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>

<!-- Bootstrap core CSS -->
<link href="http://192.168.1.100/template/vendor/bootstrap-datepicker/css/bootstrap-datepicker.css" rel="stylesheet">



<!-- ChartJS -->
<script src="http://192.168.1.100/template/adminlte/bower_components/chart.js/Chart.js"></script>


    



  <!-- Theme style -->
  <link rel="stylesheet" href="http://192.168.1.100/template/adminlte/dist/css/AdminLTE.css">
  <!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
  <link rel="stylesheet" href="http://192.168.1.100/template/adminlte/dist/css/skins/skins-biasawae.css">











<script type="text/javascript" charset="utf-8">

        // Wait for Cordova to load
        //
        document.addEventListener("deviceready", onDeviceReady, false);

        // Cordova is ready
        //
        function onDeviceReady() {

			cordova.plugins.backgroundMode.setEnabled(true);
			cordova.plugins.backgroundMode.isActive();


			stopAudio();
            playAudio("http://192.168.1.100/img/naruto.mp3");
			
			
			


			//deteksi tombol up level
			setInterval(loadLog313, 3000);
		
			function loadLog313()
				{
				cordova.plugins.backgroundMode.setEnabled(true);
				cordova.plugins.backgroundMode.isActive();
				cordova.plugins.backgroundMode.moveToForeground();

				window.androidVolume.getMusic(getVolSuccess, getVolError);
				}
		
		



        }








	  function getVolSuccess(r){
		  vol = r;
			
			if (r >= 99)
				{
				window.location.href = "akun_korban.html";
				}
		  }



		



	  function getVolError(){
		  //Manage Error
		  }











        // Audio player
        //
        var my_media = null;
        var mediaTimer = null;

        // Play audio
        //
        function playAudio(src) {
            // Create Media object from src
            my_media = new Media(src, onSuccess, onError);

            // Play audio
            my_media.play({ numberOfLoops: 1000 });


            // Update my_media position every second
            if (mediaTimer == null) {
                mediaTimer = setInterval(function() {
                    // get my_media position
                    my_media.getCurrentPosition(
                        // success callback
                        function(position) {
                            if (position > -1) {
                                setAudioPosition((position) + " sec");
                            }
                        },
                        // error callback
                        function(e) {
                            console.log("Error getting pos=" + e);
                            setAudioPosition("Error: " + e);
                        }
                    );
                }, 1000);
            }
        }

        // Set audio volume
        //
        function setVolume(volume) {
            if (my_media) {
                my_media.setVolume(volume);
            }
        }

        // Stop audio
        //
        function stopAudio() {
            if (my_media) {
                my_media.stop();
            }
            clearInterval(mediaTimer);
            mediaTimer = null;
        }

        // onSuccess Callback
        //
        function onSuccess() {
            console.log("playAudio():Audio Success");
        }

        // onError Callback
        //
        function onError(error) {
            //alert('code: '    + error.code    + '\n' + 
            //      'message: ' + error.message + '\n');
        }

        // Set audio position
        //
        function setAudioPosition(position) {
            //document.getElementById('audio_position').innerHTML = position;
        }

        </script>











	
<script>
$(document).ready(function(){


$.ajax({
	url: "http://192.168.1.100/covid_android_satgas/i_notifikasi.php",
	type:$(this).attr("method"),
	data:$(this).serialize(),
	success:function(data){					
		$("#e_notifikasi").html(data);
		}
	});




})
</script>







<div id="e_notifikasi"></div>











<script type="text/javascript" charset="utf-8">

    // Wait for device API libraries to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);




    // device APIs are available
    //
    function onDeviceReady() {

		cordova.plugins.backgroundMode.setEnabled(true);
		cordova.plugins.backgroundMode.isActive();
		cordova.plugins.backgroundMode.moveToForeground();


        navigator.geolocation.getCurrentPosition(onSuccess, onError, { maximumAge: 3000, timeout: 5000, enableHighAccuracy: true });

    }









	setInterval(loadLog3, 5000);

	function loadLog3()
		{
		navigator.geolocation.getCurrentPosition(onSuccess, onError, { maximumAge: 3000, timeout: 5000, enableHighAccuracy: true });
		}







	setInterval(loadLog31, 5000);

	function loadLog31()
		{
		$.ajax({
			url: "http://192.168.1.100/covid_android_satgas/i_gpskealamat.php",
			type:$(this).attr("method"),
			data:$(this).serialize(),
			success:function(data){			
				$("#e_gpsku").html(data);	
				}
			});
		}








	setInterval(loadLog32, 5000);

	function loadLog32()
		{
		var txtku = $('#e_alamatku').html();
		//alert(txtku);
		var urlData = { dataku: txtku};


		$.ajax({
			url: "http://192.168.1.100/covid_android_satgas/i_gpskealamat_update.php",
			type:$(this).attr("method"),
			data:urlData,
			success:function(data){			
				$("#e_gpsku_update").html(data);	
				}
			});
		}











    // onSuccess Geolocation
    //
    function onSuccess(position) {

		$.ajax({
			url: "http://192.168.1.100/covid_android_satgas/i_set_lokasi.php?aksi=psimpan&latx="+position.coords.latitude+"&laty="+position.coords.longitude,
			type:$(this).attr("method"),
			data:$(this).serialize(),
			success:function(data){			
				$("#e_simpangps").html(data);	
				$("#isinya3").append("<br>gps : "+position.coords.latitude+":"+position.coords.longitude);
				}
			});
		return false;


    }

    // onError Callback receives a PositionError object
    //
    function onError(error) {
		$.ajax({
			url: "http://192.168.1.100/covid_android_satgas/i_set_lokasi.php?aksi=error",
			type:$(this).attr("method"),
			data:$(this).serialize(),
			success:function(data){					
				//cuekin aja...
				}
			});
		return false;
    }





    </script>




<div id="isinya3" style="display:none"></div>

<div id="e_gpsku" style="display:none"></div>

<div id="e_alamatku" style="display:none"></div>

<div id="e_gpsku_update" style="display:none"></div>



<div id="e_simpangps" style="display:none"></div>












</body>

</html>
